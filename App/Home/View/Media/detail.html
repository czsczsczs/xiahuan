<include file="common/header" />
<!--=== End Header ===-->
<style type="text/css">
	.qrcode{
		margin-left: -37px;
		margin-top: -300%;
	}

	.weixin {
		position: relative;
	}



	.weixin div.qrcode {
		position: absolute;
		z-index: 99;
		top: -96px;
		left: -9px;
		max-width: none;
		/* transform-origin: top right; */
		opacity: 0;
		border: 1px solid #DDDDDD;
		border-radius: .25rem;
		-webkit-transition: all .4s ease-in-out;
		-o-transition: all .4s ease-in-out;
		transition: all .4s ease-in-out;

	}

	.weixin:hover div.qrcode {
		transform: scale(1);
		opacity: 1;
	}

	.line_02 {
		margin-top: 51px;

		height: 1px;
		border-top: 1px solid #dddddd;
		text-align: center;
	}

	.line_02 a {
		position: relative;
		top: -15px;
		background: #fff;
		padding: 0 20px;
	}

	.line_02 button {
		position: relative;
		top: -15px;
		background: #fff;
		padding-right: 26px;
	}
	.active-share-facebook {
		width: 30px;
		height: 30px;
		border: none;
		background-color: white;
	}

	.headdiv {
		font-size: 18px;
		clear: left;
	}

	.headline {
		margin: 0px;
	}

	.handover {
		padding: 3px;
		color: #cc9966;
		font-size: 18px;
	}

	.handover:hover {
		color: #fcd600;
		text-decoration: none;
	}

	.no {
		pointer-events: none;
		color: #ddd;
		font-size: 18px;
	}
	@media (max-width: 768px) {
		body {
            padding-right: 0px !important;
             padding-left: 0px!important;;
        }
        .container{
            width: 97%!important;;
        }
        .ji{
            width: 66px!important;
        }
		.photos{
			display: flex;
			justify-content: center;
			flex-wrap: wrap;
		}
		.line_02 {
			margin-bottom: 30px;
		}
		.weixin div.qrcode {
			left: -33px;
			margin-top: -145px;
			position: absolute;
			margin-right: auto;
			margin-left: auto;
		}
	}



	.show-img-bg{
		display: flex;
		align-items: center;
		position:fixed;
		top:0;
		left:0;
		background:rgba(0,0,0,0.7);
		z-index:9999;
		width:100%;
		height:100%;
	}
	.bg-title{
		position: absolute;
		right: 20px;
		color: red;
		z-index: 99;
	}
	.lar-img{
		display: block;
		margin: 0 auto;
		z-index: 3;
		width:800px;
		height: auto;
		cursor: pointer;
		border:2px solid #fff;
	}
	.close-icon{
		position: absolute;
		top: 0;
		right: 0;
		color: #000000;
		background-color: #fff;
		font-size: 20px;
		font-weight: bold;
		padding: 8px 16px;
		border: #fff 1px solid;
	}
	.download-btn{
		position: absolute;
		right: 50px;
		bottom: 100px;
		padding: 8px 24px;
		color: #000000;
	}
	.ori-btn{
		position: absolute;
		right: 50px;
		bottom: 160px;
		padding: 8px 24px;
		color: #000000;
	}
	.imgs{
		height: auto;
		width: auto;
	}
	.title {
		display: table;
		width: 100%;
		line-height: 92px;
		background-color: #fff;
		white-space: nowrap;
		border-spacing: .2rem 0;
		margin-bottom: 20px;
	}

	.title:before,
	.title:after {
		display: table-cell;
		content: '';
		width: 50%;
		background: -webkit-linear-gradient(#dedede, #fff) repeat-x left center;
		background: linear-gradient(#dedede, #fff) repeat-x left center;
		background-size: 0.1rem 0.1rem;
	}
	@media screen and (min-width: 980px) and (max-width: 1199px){
		.photos{
			margin-left: 70px;
			margin-right: 70px;
		}
	}
	@media screen and (min-width: 768px) and (max-width: 979px){
		.photos{
			margin-left: 131px;
			margin-right: 131px;
		}
    }
	@media screen and (min-width: 719px) and (max-width: 767px){
		.photos{
			margin-left: 80px;
			margin-right: 80px;
		}
	}
	@media screen and (min-width: 617px) and (max-width: 718px) {
		.portfolio li {
			margin-right: unset !important;
		}
		.photos {
			padding-left: 30%;
			padding-right: 30%;
			width: auto;
		}
	}
	@media screen and (min-width: 436px) and (max-width: 616px){
		.portfolio li{
			margin-right: unset !important;
		}
		.photos{
			margin-left: 26%;
			margin-right: 26%;
			width: auto;
		}
	}
	@media screen and (min-width: 236px) and (max-width: 435px){
		.portfolio li{
			margin-right: unset !important;
		}
		.photos{
			padding-left: 12%;
			padding-right: 12%;
			width: auto;
		}
	}
	@media screen and (min-width: 1200px){
		.footer-share{
			margin-right: 3%;
		}
		.photos{
			display: flex;
			justify-content: flex-start;
			flex-wrap: wrap;
		}
	}
	.mediaphotos{
		width: 270px;
    	height: 180px;
	}
</style>
<!--=== Breadcrumbs ===-->
<div class="breadcrumbs margin-bottom-20" style="height: auto;">
	<div class="container" style="padding: 0;">
		<h1 class="color-green pull-right"></h1>
		<ul class="pull-left breadcrumb" style="display: flex;align-items: center;flex-wrap: wrap;top: 0;padding: 0;margin: 0;">
			<li><img class="ji" src="/xiahuan/ji.png"/></li>
			<li><a href="{:U('Index/index')}">首頁</a> <span class="divider">/</span></li>
			<li><a href="{:U('Media/index')}">精彩瞬間</a> <span class="divider">/</span></li>
			<li class="active" style="color: #777;">{$media['title']}</li>
		</ul>
	</div>
	<!--/container-->
</div>
<!--/breadcrumbs-->
<!--=== End Breadcrumbs ===-->

<!--=== Content Part ===-->
<div class="container">
	<div class="row-fluid portflio_details">
		<!-- Left Sidebar -->
		<div class="span9">

			<!-- Tabs -->

			<ul class="nav nav-tabs tabs" style="text-align: center">
				<li class="active"><a href="#home" data-toggle="tab">{$media['title']}</a></li>
			</ul>
			<!--/tabs-->


			<div class="row-fluid">
				<div id="w">

					<ul class="portfolio clearfix photos" id="all">
						<volist name="images" id="Row">
							<li data-id="id-1"  class="street{$Row['street_id']}">
								<a href="#" class="mediaphotos">
									<em class="overflow-hidden imgs">
										<img style="width: 100%;height: 100%" onclick="expandPhoto(this);" src="{$Row['savepath']}" alt="" />
									</em>
								</a>
							</li>
						</volist>
					</ul>

					<!--分页-->
					<div class="pagination pagination-large pagination-centered" style="display: flex;place-content: center;">
					<!--第<span id="a2"></span>/<span id="a1"></span>页-->
						<a style="text-decoration: none;margin-right: 5px;color: #b8b8b8;display: block;border: 1px solid #b8b8b8;width: 30px;height: 20px;padding-top: 4px;padding-bottom: 4px;" href="#" onClick="change(--pageno)"><<</a>
						<span style="display: flex;" id="a3"></span>　
						<a style="text-decoration: none;margin-left: -12px;color: #b8b8b8;display: block;border: 1px solid #b8b8b8;width: 30px;height: 20px;padding-top: 4px;padding-bottom: 4px;" href="#" onClick="change(++pageno)">>></a>
					</div>
					<!--<div class="pagination pagination-large pagination-centered">
						<ul>{$page}</ul>
					</div>-->
					<!--分享-->
					<div class="footer-share">
						<a class="social weixin" href="javascript:">
							<div class="qrcode" id="qrcode"></div>
							<button type="button" class="footer-share-wechat" style="background-image: url(__HOME_PUBLIC__img/footer/IC-200-WeChat.png);background-size:30px 30px;"></button>
						</a>

						<br>
						<button type="button" class="footer-share-weibo" style="background-image: url(__HOME_PUBLIC__img/footer/IC-200-WB.png);background-size:30px 30px;"
								onclick="shareWeibo()"></button>
						<br>
						<button type="button" class="footer-share-facebook" style="background-image: url(__HOME_PUBLIC__img/footer/IC-200-facebook.png);background-size:30px 30px;" onclick="shareFacebook()"></button>

					</div>
				</div>
			</div>

            <!--<div class="title">
                <a class="social weixin" href="javascript:">
                    <div class="qrcode" id="qrcode"></div>
                    <svg t="1628480769448" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8759" width="32" height="32"><path d="M302.787561 407.585224a37.1 37.1 0 1 0 72.214041-17.052045 37.1 37.1 0 1 0-72.214041 17.052045Z" p-id="8760" fill="#707070"></path><path d="M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m-87.24 683.75c-33.7 0-65.84-5.66-95.2-15.9l-83.11 45.57 25.1-74.03c-59.59-39.07-97.99-100.39-97.99-169.35 0-118.03 112.47-213.71 251.21-213.71 122.97 0 225.28 75.16 246.96 174.43-3.41-0.12-6.83-0.2-10.27-0.2-126.04 0-228.22 86.64-228.23 193.51 0 20.6 3.81 40.44 10.84 59.06-6.38 0.41-12.81 0.62-19.31 0.62z m358.31 87.68l21.08 62.17-72.52-39.77c-21.96 6.53-45.57 10.09-70.17 10.09-117.14 0-212.1-80.52-212.1-179.84s94.96-179.84 212.1-179.84 212.1 80.52 212.1 179.84c0 60.95-35.77 114.82-90.49 147.35z" p-id="8761" fill="#707070"></path><path d="M595.2 568.57m-29.7 0a29.7 29.7 0 1 0 59.4 0 29.7 29.7 0 1 0-59.4 0Z" p-id="8762" fill="#707070"></path><path d="M511.46 436.18c20.49 0 37.1-16.61 37.1-37.1s-16.61-37.1-37.1-37.1c-20.48 0-37.09 16.61-37.1 37.1 0 20.49 16.61 37.1 37.1 37.1z" p-id="8763" fill="#707070"></path><path d="M733.38 568.57m-29.7 0a29.7 29.7 0 1 0 59.4 0 29.7 29.7 0 1 0-59.4 0Z" p-id="8764" fill="#707070"></path></svg>
                </a>
                <button type="button" class="active-share-facebook" onclick="shareFacebook()">
                    <svg t="1628480645627" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2921" width="32" height="32"><path d="M588.288 998.912V651.776h114.176l17.408-137.728H588.288v-88.064c0-22.528 4.608-38.912 13.312-50.176 9.216-11.264 26.112-16.896 52.224-16.896h70.656V235.52c-24.064-3.584-58.368-5.632-102.4-5.632-51.712 0-93.184 15.872-124.416 47.616s-46.592 76.8-46.592 134.656v101.376H336.384v137.728H450.56v349.696C207.36 970.752 18.944 763.392 18.944 512c0-272.384 220.672-493.568 493.568-493.568S1006.08 239.104 1006.08 512c0 246.784-181.248 450.56-417.792 486.912z m-75.264 6.656H512h1.024z" p-id="2922" fill="#707070"></path></svg>
                </button>
            </div>-->


			<div class="headdiv">
				<span style="width: 100%;display: inline-block;">上一篇：
					<if condition="$before['title'] neq NULL">
						<a href="{:U(Media/detail,array('id'=>$before['id']))}" class="handover">{$before['title']}</a>
						<else />
						<a class="no">無</a>
					</if>
				</span>
				<span style="width: 100%;display: inline-block;">下一篇：
					<if condition="$later['title'] neq NULL">
						<a href="{:U(Media/detail,array('id'=>$later['id']))}" class="handover">{$later['title']}</a>
						<else />
						<a class="no">無</a>
					</if>
				</span>
				<span>相關資訊：
					<if condition="$media['description'] neq NULL">
						<a href="{$media['url']}" class="handover">{$media['description']}</a>
						<else />
						<a class="no">無</a>
					</if>
				</span>
			</div>

		</div>
		<!-- Right Sidebar -->
		<include file="common/page_right" />
		<!--/span3-->
	</div>
	<!--/row-fluid-->
</div>
<!--/container-->
<!--=== End Content Part ===-->


<script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=YucscdufpGHjsbbnhrjhrLBWFWsulcMq&s=1"></script>
<script type="text/javascript" src="../../../../xiahuan/Public/Static/Home/js/jquery.min.js"></script>
<script type="text/javascript" src="../../../../xiahuan/Public/Static/Home/js/qrcode.min.js"></script>
<link rel="stylesheet" type="text/css" href="../../../../xiahuan/Public/Static/Home/js/qrcodebox-master/qrcodebox/css/qrcode.box.css">
<script src="../../../../xiahuan/Public/Static/Home/js/qrcodebox-master/qrcodebox/js/jquery.min.js"></script>
<script src="../../../../xiahuan/Public/Static/Home/js/qrcodebox-master/qrcodebox/js/jquery.qrcode.js"></script>
<script src="../../../../xiahuan/Public/Static/Home/js/qrcodebox-master/qrcodebox/js/qrcode.js"></script>
<script src="../../../../xiahuan/Public/Static/Home/js/qrcodebox-master/qrcodebox/js/jquery.qrcode.box.js"></script>
<!-- <script src="../../../../Public/Static/Home/js/qrcode.min.js"></script> -->
<script type="text/javascript">
	//分享二维码
	var wz = "http://macauonline.net/xiahuan/Media/detail/id/{$media['id']}.html"
	var qrcode = new QRCode(document.getElementById("qrcode"), wz); // 设置要生成二维码的链接
	$(".qrcode").qrcodeBox({
		title: "分享到微信朋友圈",
		des: "“扫一扫” 即可分享",
		width: 128,
		height: 128,
		qrcodeText: wz,
		offsetX: 70,
		offsetY: 100
	});
</script>
<script type="text/javascript">
	function expandPhoto(obj){
		var _this = obj;
		var bg = document.createElement("div"); //创建div
		bg.setAttribute("id","showImgBg");  //给背景添加id
		bg.setAttribute("class","show-img-bg");  //给背景添加class
		document.body.appendChild(bg);  //向页面中显示此div，背景覆盖整个页面（展示台）
		var bgId = document.getElementById('showImgBg');//声明背景id

		$(document).mouseup(function(event){
			var _con = $(bgId); // 设置目标区域

			if(!_con.is(event.target) && _con.has(event.target).length === 0){ // Mark 1

				//$('#divTop').slideUp('slow'); //滑动消失
				$(bgId).hide(1000); //淡出消失

			}
		});


		var title = document.createElement("span");
		title.setAttribute("class","bg-title");
		bgId.appendChild(title);//加入小提示

		var larimg = document.createElement("img");
		larimg.setAttribute("id","larImg");
		larimg.setAttribute("class","lar-img");
		larimg.src = _this.getAttribute("src");
		bgId.appendChild(larimg);//加入展示的图片

		var close = document.createElement("span");
		close.setAttribute("id","closeIcon");
		close.setAttribute("class","close-icon");
		close.innerHTML = "x";
		bgId.appendChild(close);//加入手写的关闭按钮

		larimg.onclick = bigImg;//点击放大缩小按钮
		close.onclick = restore;//关闭展示的页面
	}

	function restore(){
		document.body.removeChild(document.getElementById("showImgBg"));
	}

	function bigImg(){
		let lar = document.getElementById("larImg");
		if(lar.style.width == '800px'){
			lar.style.width = "1200px";
		}else{
			lar.style.width = "800px";
		}
	}

	function oriImg(){
		let lar = document.getElementById("larImg");
		lar.style.width = "800px";
	}

	function download(){
		alert("下不了的，别点了");
	}

</script>
<script type="text/javascript">
	var a = document.getElementById("all").getElementsByTagName("li");
	var zz =new Array(a.length);
	for(var i=0;i <a.length;i++){
		zz[i]=a[i].innerHTML;
	} //div的字符串数组付给zz
	var pageno=1 ;              //当前页
	var pagesize=9;            //每页多少条信息
	if(zz.length%pagesize==0){
		var  pageall =zz.length/pagesize ;
	}else{
		var  pageall =parseInt(zz.length/pagesize)+1;
	}   //一共多少页

	function change(e){
		pageno=e;
		if(e<1){ //如果输入页<1页
			e=1;pageno=1;//就等于第1页 ， 当前页为1
		}
		if(e>pageall){  //如果输入页大于最大页
			e=pageall;pageno=pageall; //输入页和当前页都=最大页
		}
		document.getElementById("all").innerHTML=""//全部清空
		for(var i=0;i<pagesize;i++){
			var div =document.createElement("li")//建立div对象
			div.innerHTML=zz[(e-1)*pagesize+i]//建立显示元素
			document.getElementById("all").appendChild(div)//加入all中
			if(zz[(e-1)*pagesize+i+1]==null) break;//超出范围跳出
		}
		var ye="";
		for(var j=1;j<=pageall;j++){
			if(e==j){
				ye=ye+"<span><a href='#' onClick='change("+j+")' style='text-decoration: none;margin-right: 5px;color: #385A9F;display: block;border: 1px solid #b8b8b8;width: 30px;height: 20px;padding-top: 4px;padding-bottom: 4px'>"+j+"</a></span> "
			}else{
				ye=ye+"<a href='#' onClick='change("+j+")' style='text-decoration: none;margin-right: 5px;color: #b8b8b8;display: block;border: 1px solid #b8b8b8;width: 30px;height: 20px;padding-top: 4px;padding-bottom: 4px'>"+j+"</a> "
			}
		}
		// document.getElementById("a1").innerHTML=pageall;
		// document.getElementById("a2").innerHTML=pageno;
		document.getElementById("a3").innerHTML=ye;
	}
	change(1);
</script>
<!--=== Footer ===-->
<include file="common/footer" />
